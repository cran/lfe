
R version 2.12.2 (2011-02-25)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(lfe)
Loading required package: Matrix
Loading required package: lattice

Attaching package: 'Matrix'

The following object(s) are masked from 'package:base':

    det

LFE using 1 thread, set options(lfe.threads=n) to use more
> options(lfe.threads=4)
> set.seed(65318)
> x <- rnorm(500)
> x2 <- rnorm(length(x))
> 
> ## create individual and firm
> id <- factor(sample(10,length(x),replace=TRUE))
> firm <- factor(sample(6,length(x),replace=TRUE,prob=c(2,rep(1,5))))
> 
> ## effects
> id.eff <- rnorm(nlevels(id))
> firm.eff <- rnorm(nlevels(firm))
> 
> ## left hand side
> y <- x + 0.25*x2 + id.eff[id] + firm.eff[firm] + rnorm(length(x))
> 
> ## estimate
> summary(est <- felm(y ~ x+x2 + G(id) + G(firm)))

Call:
   felm(formula = y ~ x + x2 + G(id) + G(firm)) 

      Min        1Q    Median        3Q       Max 
-2.962642 -0.735486  0.007925  0.774946  2.680924 

Coefficients:
   Estimate Std. Error t value Pr(>|t|)    
x   0.96251    0.04843  19.875  < 2e-16 ***
x2  0.22600    0.04828   4.681 3.71e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

Residual standard error: 1.043 on 483 degrees of freedom
Multiple R-squared: 0.7213   Adjusted R-squared: 0.7115 
F-statistic: 73.53 on 17 and 483 DF, p-value: < 2.2e-16 


> getfe(est)
            effect obs comp   fe idx
id.1    1.60774555  41    1   id   1
id.2   -0.26551985  52    1   id   2
id.3   -2.26831875  68    1   id   3
id.4    0.43847598  53    1   id   4
id.5    0.11703578  39    1   id   5
id.6    0.72881930  38    1   id   6
id.7   -0.35175267  62    1   id   7
id.8   -0.06759051  49    1   id   8
id.9    1.25050807  42    1   id   9
id.10  -0.41416321  56    1   id  10
firm.1 -0.29762518 132    1 firm   1
firm.2  0.28053531  69    1 firm   2
firm.3 -0.48637133  74    1 firm   3
firm.4  1.21510167  66    1 firm   4
firm.5  1.14916109  72    1 firm   5
firm.6 -1.08556186  87    1 firm   6
> summary(lm(y ~ x + x2 + id + firm -1))

Call:
lm(formula = y ~ x + x2 + id + firm - 1)

Residuals:
     Min       1Q   Median       3Q      Max 
-2.96264 -0.73549  0.00793  0.77495  2.68092 

Coefficients:
      Estimate Std. Error t value Pr(>|t|)    
x      0.96251    0.04843  19.875  < 2e-16 ***
x2     0.22600    0.04828   4.681 3.71e-06 ***
id1    1.31012    0.18078   7.247 1.70e-12 ***
id2   -0.56315    0.16511  -3.411 0.000702 ***
id3   -2.56594    0.14576 -17.604  < 2e-16 ***
id4    0.14085    0.16284   0.865 0.387492    
id5   -0.18059    0.18756  -0.963 0.336113    
id6    0.43119    0.18941   2.277 0.023249 *  
id7   -0.64938    0.15560  -4.173 3.56e-05 ***
id8   -0.36522    0.17210  -2.122 0.034335 *  
id9    0.95288    0.17475   5.453 7.93e-08 ***
id10  -0.71179    0.16307  -4.365 1.56e-05 ***
firm2  0.57816    0.15694   3.684 0.000256 ***
firm3 -0.18875    0.15251  -1.238 0.216469    
firm4  1.51273    0.15811   9.568  < 2e-16 ***
firm5  1.44679    0.15325   9.441  < 2e-16 ***
firm6 -0.78794    0.14579  -5.404 1.02e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

Residual standard error: 1.043 on 483 degrees of freedom
Multiple R-squared: 0.7213,	Adjusted R-squared: 0.7115 
F-statistic: 73.53 on 17 and 483 DF,  p-value: < 2.2e-16 

> 
