
R Under development (unstable) (2014-02-12 r64976) -- "Unsuffered Consequences"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: x86_64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(lfe)
Loading required package: Matrix
> options(lfe.threads=2,digits=5,warn=1)
> set.seed(42)
> x <- rnorm(5000,mean=2)
> x2 <- rnorm(length(x))
> x3 <- rexp(length(x))
> #ix <- rep(2.0,length(x))
> ## create individual and firm
> id <- factor(sample(150,length(x),replace=TRUE))
> ix <- matrix(rnorm(2*length(x)),length(x),2)*sqrt(as.numeric(id)/nlevels(id))
> colnames(ix) <- c('col1','col2')
> firm <- factor(sample(130,length(x),replace=TRUE))
> fx <- rnorm(length(x))*sqrt(as.numeric(id)/nlevels(firm))
> shoe <- factor(sample(10,length(x),replace=TRUE))
> shirt <- factor(sample(10,length(x),replace=TRUE))
> ## effects
> id.eff <- rnorm(nlevels(id))
> firm.eff <- rnorm(nlevels(firm))
> shoe.eff <- rnorm(nlevels(shoe))
> shirt.eff <- rnorm(nlevels(shirt))
> ## left hand side
> y <- x + 0.25*x2 + 0.5*x3 + rowSums(ix*id.eff[id]) + id.eff[id] + fx*firm.eff[firm] + firm.eff[firm] + shoe.eff[shoe] + shirt.eff[shirt] + rnorm(length(x))
> 
> ## estimate
> summary(est <- felm(y ~ x+x2+x3 | ix:id+id+fx:firm+firm+shoe+shirt, exactDOF=T))

Call:
   felm(formula = y ~ x + x2 + x3 | ix:id + id + fx:firm + firm +      shoe + shirt, exactDOF = T) 

Residuals:
    Min      1Q  Median      3Q     Max 
-3.5245 -0.6302 -0.0125  0.6284  3.5420 

Coefficients:
   Estimate Std. Error t value Pr(>|t|)    
x    0.9975     0.0153    65.3   <2e-16 ***
x2   0.2636     0.0152    17.3   <2e-16 ***
x3   0.4956     0.0149    33.3   <2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1 on 4270 degrees of freedom
Multiple R-squared: 0.898   Adjusted R-squared: 0.881 
F-statistic:51.7 on 729 and 4270 DF, p-value: <2e-16 


> getfe(est)
                  effect obs comp        fe idx
ixcol1:id.1    1.6688877  43    0 ixcol1:id   1
ixcol1:id.2    1.7896842  26    0 ixcol1:id   2
ixcol1:id.3    1.2770467  41    0 ixcol1:id   3
ixcol1:id.4    0.7751101  34    0 ixcol1:id   4
ixcol1:id.5   -0.8020020  32    0 ixcol1:id   5
ixcol1:id.6   -2.4147838  33    0 ixcol1:id   6
ixcol1:id.7    2.7246625  31    0 ixcol1:id   7
ixcol1:id.8   -1.2629373  37    0 ixcol1:id   8
ixcol1:id.9    0.1432167  42    0 ixcol1:id   9
ixcol1:id.10   2.1516581  32    0 ixcol1:id  10
ixcol1:id.11   0.5803030  29    0 ixcol1:id  11
ixcol1:id.12   1.3723235  43    0 ixcol1:id  12
ixcol1:id.13  -0.2498726  34    0 ixcol1:id  13
ixcol1:id.14   0.0408916  33    0 ixcol1:id  14
ixcol1:id.15   2.7609191  34    0 ixcol1:id  15
ixcol1:id.16  -1.0306724  27    0 ixcol1:id  16
ixcol1:id.17   1.3843219  35    0 ixcol1:id  17
ixcol1:id.18  -2.0660550  29    0 ixcol1:id  18
ixcol1:id.19  -1.2570628  44    0 ixcol1:id  19
ixcol1:id.20  -1.4359964  36    0 ixcol1:id  20
ixcol1:id.21   0.9856293  34    0 ixcol1:id  21
ixcol1:id.22   0.3845024  48    0 ixcol1:id  22
ixcol1:id.23   0.2777440  32    0 ixcol1:id  23
ixcol1:id.24   0.1687529  26    0 ixcol1:id  24
ixcol1:id.25   1.2522160  30    0 ixcol1:id  25
ixcol1:id.26  -0.2408476  29    0 ixcol1:id  26
ixcol1:id.27  -0.4452674  34    0 ixcol1:id  27
ixcol1:id.28   0.3777986  16    0 ixcol1:id  28
ixcol1:id.29   0.3251444  41    0 ixcol1:id  29
ixcol1:id.30  -0.8688183  20    0 ixcol1:id  30
ixcol1:id.31  -0.6329945  32    0 ixcol1:id  31
ixcol1:id.32   0.5811355  35    0 ixcol1:id  32
ixcol1:id.33  -0.8021262  40    0 ixcol1:id  33
ixcol1:id.34  -2.6341006  34    0 ixcol1:id  34
ixcol1:id.35  -0.0909776  38    0 ixcol1:id  35
ixcol1:id.36   1.3091553  29    0 ixcol1:id  36
ixcol1:id.37  -1.4213016  36    0 ixcol1:id  37
ixcol1:id.38   0.7755247  34    0 ixcol1:id  38
ixcol1:id.39  -0.4992666  36    0 ixcol1:id  39
ixcol1:id.40  -1.3001629  24    0 ixcol1:id  40
ixcol1:id.41   0.6142703  34    0 ixcol1:id  41
ixcol1:id.42   0.7855294  29    0 ixcol1:id  42
ixcol1:id.43  -0.0646508  23    0 ixcol1:id  43
ixcol1:id.44  -1.1269148  28    0 ixcol1:id  44
ixcol1:id.45  -1.5505690  38    0 ixcol1:id  45
ixcol1:id.46   0.6899077  22    0 ixcol1:id  46
ixcol1:id.47  -1.6908577  29    0 ixcol1:id  47
ixcol1:id.48   1.5254827  36    0 ixcol1:id  48
ixcol1:id.49   0.4197612  46    0 ixcol1:id  49
ixcol1:id.50  -0.8253609  36    0 ixcol1:id  50
ixcol1:id.51   0.9287224  34    0 ixcol1:id  51
ixcol1:id.52   0.8052976  36    0 ixcol1:id  52
ixcol1:id.53  -1.8703216  29    0 ixcol1:id  53
ixcol1:id.54  -0.7427135  33    0 ixcol1:id  54
ixcol1:id.55  -0.3975430  39    0 ixcol1:id  55
ixcol1:id.56   1.6447997  34    0 ixcol1:id  56
ixcol1:id.57   1.3310694  29    0 ixcol1:id  57
ixcol1:id.58  -1.5494140  32    0 ixcol1:id  58
ixcol1:id.59   1.6297180  42    0 ixcol1:id  59
ixcol1:id.60  -0.6615341  34    0 ixcol1:id  60
ixcol1:id.61   1.3894491  33    0 ixcol1:id  61
ixcol1:id.62  -1.8759679  26    0 ixcol1:id  62
ixcol1:id.63  -1.1732160  44    0 ixcol1:id  63
ixcol1:id.64   0.5520536  28    0 ixcol1:id  64
ixcol1:id.65   0.6081090  33    0 ixcol1:id  65
ixcol1:id.66   0.7386600  22    0 ixcol1:id  66
ixcol1:id.67   0.7640019  29    0 ixcol1:id  67
ixcol1:id.68  -0.4665325  34    0 ixcol1:id  68
ixcol1:id.69   0.7822884  25    0 ixcol1:id  69
ixcol1:id.70   1.1742141  33    0 ixcol1:id  70
ixcol1:id.71   0.8540831  26    0 ixcol1:id  71
ixcol1:id.72  -0.4943319  38    0 ixcol1:id  72
ixcol1:id.73   0.6308451  37    0 ixcol1:id  73
ixcol1:id.74   1.7676793  35    0 ixcol1:id  74
ixcol1:id.75   1.5310641  27    0 ixcol1:id  75
ixcol1:id.76   0.5651350  28    0 ixcol1:id  76
ixcol1:id.77   0.2514761  22    0 ixcol1:id  77
ixcol1:id.78   2.8363289  38    0 ixcol1:id  78
ixcol1:id.79   0.3098456  40    0 ixcol1:id  79
ixcol1:id.80   0.7437587  38    0 ixcol1:id  80
ixcol1:id.81   0.0836174  31    0 ixcol1:id  81
ixcol1:id.82  -0.6930726  30    0 ixcol1:id  82
ixcol1:id.83  -0.6436567  45    0 ixcol1:id  83
ixcol1:id.84  -0.2370933  28    0 ixcol1:id  84
ixcol1:id.85   2.9279132  38    0 ixcol1:id  85
ixcol1:id.86  -0.2341636  29    0 ixcol1:id  86
ixcol1:id.87   1.2448952  38    0 ixcol1:id  87
ixcol1:id.88  -1.0867932  34    0 ixcol1:id  88
ixcol1:id.89   0.0715447  30    0 ixcol1:id  89
ixcol1:id.90   1.0945893  30    0 ixcol1:id  90
ixcol1:id.91   0.9920512  29    0 ixcol1:id  91
ixcol1:id.92   2.0761022  28    0 ixcol1:id  92
ixcol1:id.93  -1.0628979  32    0 ixcol1:id  93
ixcol1:id.94   0.2400449  34    0 ixcol1:id  94
ixcol1:id.95  -0.0917559  37    0 ixcol1:id  95
ixcol1:id.96  -0.7387601  38    0 ixcol1:id  96
ixcol1:id.97   0.6451462  31    0 ixcol1:id  97
ixcol1:id.98   0.8361234  39    0 ixcol1:id  98
ixcol1:id.99  -1.3126961  25    0 ixcol1:id  99
ixcol1:id.100  0.7056856  35    0 ixcol1:id 100
ixcol1:id.101  1.2663030  27    0 ixcol1:id 101
ixcol1:id.102 -0.0378470  25    0 ixcol1:id 102
ixcol1:id.103  0.7363501  34    0 ixcol1:id 103
ixcol1:id.104  1.4616360  34    0 ixcol1:id 104
ixcol1:id.105 -0.2153665  34    0 ixcol1:id 105
ixcol1:id.106 -0.5782200  38    0 ixcol1:id 106
ixcol1:id.107  0.2974196  36    0 ixcol1:id 107
ixcol1:id.108 -0.2460480  40    0 ixcol1:id 108
ixcol1:id.109  0.3090823  45    0 ixcol1:id 109
ixcol1:id.110 -1.3222259  22    0 ixcol1:id 110
ixcol1:id.111 -0.2102274  27    0 ixcol1:id 111
ixcol1:id.112  1.3360808  35    0 ixcol1:id 112
ixcol1:id.113  0.9014662  45    0 ixcol1:id 113
ixcol1:id.114 -0.5315643  32    0 ixcol1:id 114
ixcol1:id.115  1.9626843  36    0 ixcol1:id 115
ixcol1:id.116  0.4198206  39    0 ixcol1:id 116
ixcol1:id.117  0.7398104  35    0 ixcol1:id 117
ixcol1:id.118 -1.2835639  31    0 ixcol1:id 118
ixcol1:id.119  0.8031879  31    0 ixcol1:id 119
ixcol1:id.120 -0.4519118  20    0 ixcol1:id 120
ixcol1:id.121 -0.6199458  30    0 ixcol1:id 121
ixcol1:id.122  1.2408619  38    0 ixcol1:id 122
ixcol1:id.123  1.6013218  29    0 ixcol1:id 123
ixcol1:id.124 -0.2614118  32    0 ixcol1:id 124
ixcol1:id.125  1.0516386  29    0 ixcol1:id 125
ixcol1:id.126 -0.4899800  41    0 ixcol1:id 126
ixcol1:id.127 -0.0661379  32    0 ixcol1:id 127
ixcol1:id.128 -0.1070768  45    0 ixcol1:id 128
ixcol1:id.129 -0.7908868  38    0 ixcol1:id 129
ixcol1:id.130  1.1781792  29    0 ixcol1:id 130
ixcol1:id.131  0.7479522  32    0 ixcol1:id 131
ixcol1:id.132 -0.1231154  31    0 ixcol1:id 132
ixcol1:id.133  0.7444769  46    0 ixcol1:id 133
ixcol1:id.134 -1.0082795  32    0 ixcol1:id 134
ixcol1:id.135  1.2649483  31    0 ixcol1:id 135
ixcol1:id.136  2.0985263  36    0 ixcol1:id 136
ixcol1:id.137 -1.2060647  28    0 ixcol1:id 137
ixcol1:id.138  1.6709851  26    0 ixcol1:id 138
ixcol1:id.139 -2.5584010  24    0 ixcol1:id 139
ixcol1:id.140 -0.4529179  38    0 ixcol1:id 140
ixcol1:id.141  0.2134545  27    0 ixcol1:id 141
ixcol1:id.142 -1.6757437  33    0 ixcol1:id 142
ixcol1:id.143  1.7204482  34    0 ixcol1:id 143
ixcol1:id.144 -1.1673625  30    0 ixcol1:id 144
ixcol1:id.145  1.0946024  38    0 ixcol1:id 145
ixcol1:id.146  0.7578650  44    0 ixcol1:id 146
ixcol1:id.147 -0.5358491  47    0 ixcol1:id 147
ixcol1:id.148  1.6183094  30    0 ixcol1:id 148
ixcol1:id.149  0.4743934  37    0 ixcol1:id 149
ixcol1:id.150  1.1762282  44    0 ixcol1:id 150
ixcol2:id.1   -1.4625051  43    0 ixcol2:id   1
ixcol2:id.2   -2.1127168  26    0 ixcol2:id   2
ixcol2:id.3   -0.0445353  41    0 ixcol2:id   3
ixcol2:id.4   -0.5894187  34    0 ixcol2:id   4
ixcol2:id.5   -0.5729894  32    0 ixcol2:id   5
ixcol2:id.6   -3.6134629  33    0 ixcol2:id   6
ixcol2:id.7    1.9469397  31    0 ixcol2:id   7
ixcol2:id.8   -1.7261682  37    0 ixcol2:id   8
ixcol2:id.9    0.6162676  42    0 ixcol2:id   9
ixcol2:id.10   1.5818476  32    0 ixcol2:id  10
ixcol2:id.11   2.2094834  29    0 ixcol2:id  11
ixcol2:id.12   0.0992290  43    0 ixcol2:id  12
ixcol2:id.13  -1.1220274  34    0 ixcol2:id  13
ixcol2:id.14   0.6039424  33    0 ixcol2:id  14
ixcol2:id.15   1.0537731  34    0 ixcol2:id  15
ixcol2:id.16  -0.5876307  27    0 ixcol2:id  16
ixcol2:id.17   0.8291496  35    0 ixcol2:id  17
ixcol2:id.18  -2.5169295  29    0 ixcol2:id  18
ixcol2:id.19   0.2467384  44    0 ixcol2:id  19
ixcol2:id.20  -1.2855334  36    0 ixcol2:id  20
ixcol2:id.21   0.9480718  34    0 ixcol2:id  21
ixcol2:id.22   1.8659453  48    0 ixcol2:id  22
ixcol2:id.23  -1.0724969  32    0 ixcol2:id  23
ixcol2:id.24   0.5243330  26    0 ixcol2:id  24
ixcol2:id.25   1.8268442  30    0 ixcol2:id  25
ixcol2:id.26   0.0349766  29    0 ixcol2:id  26
ixcol2:id.27  -1.8532361  34    0 ixcol2:id  27
ixcol2:id.28   0.8375609  16    0 ixcol2:id  28
ixcol2:id.29  -0.2729876  41    0 ixcol2:id  29
ixcol2:id.30  -0.7855454  20    0 ixcol2:id  30
ixcol2:id.31   0.1466390  32    0 ixcol2:id  31
ixcol2:id.32   0.2530550  35    0 ixcol2:id  32
ixcol2:id.33  -0.7855933  40    0 ixcol2:id  33
ixcol2:id.34  -2.7299237  34    0 ixcol2:id  34
ixcol2:id.35   0.0623226  38    0 ixcol2:id  35
ixcol2:id.36   1.5921568  29    0 ixcol2:id  36
ixcol2:id.37  -1.5241553  36    0 ixcol2:id  37
ixcol2:id.38   0.5614391  34    0 ixcol2:id  38
ixcol2:id.39   0.1311899  36    0 ixcol2:id  39
ixcol2:id.40  -0.2463232  24    0 ixcol2:id  40
ixcol2:id.41   0.7600972  34    0 ixcol2:id  41
ixcol2:id.42   1.4226414  29    0 ixcol2:id  42
ixcol2:id.43  -0.1946485  23    0 ixcol2:id  43
ixcol2:id.44  -0.7732094  28    0 ixcol2:id  44
ixcol2:id.45  -1.2605121  38    0 ixcol2:id  45
ixcol2:id.46   0.6370400  22    0 ixcol2:id  46
ixcol2:id.47  -1.1224472  29    0 ixcol2:id  47
ixcol2:id.48   1.3468829  36    0 ixcol2:id  48
ixcol2:id.49   0.4587459  46    0 ixcol2:id  49
ixcol2:id.50  -0.0699537  36    0 ixcol2:id  50
ixcol2:id.51   0.7496059  34    0 ixcol2:id  51
ixcol2:id.52   0.5276963  36    0 ixcol2:id  52
ixcol2:id.53  -1.1135486  29    0 ixcol2:id  53
ixcol2:id.54  -0.2697337  33    0 ixcol2:id  54
ixcol2:id.55  -0.4006830  39    0 ixcol2:id  55
ixcol2:id.56   1.4304941  34    0 ixcol2:id  56
ixcol2:id.57   1.3371362  29    0 ixcol2:id  57
ixcol2:id.58  -1.3430185  32    0 ixcol2:id  58
ixcol2:id.59   2.1949930  42    0 ixcol2:id  59
ixcol2:id.60  -0.4110261  34    0 ixcol2:id  60
ixcol2:id.61   1.0390766  33    0 ixcol2:id  61
ixcol2:id.62  -1.0633912  26    0 ixcol2:id  62
ixcol2:id.63  -1.3980351  44    0 ixcol2:id  63
ixcol2:id.64   0.4941528  28    0 ixcol2:id  64
ixcol2:id.65   1.2150653  33    0 ixcol2:id  65
ixcol2:id.66   1.1834630  22    0 ixcol2:id  66
ixcol2:id.67   0.9512442  29    0 ixcol2:id  67
ixcol2:id.68  -1.3436813  34    0 ixcol2:id  68
ixcol2:id.69   0.5965558  25    0 ixcol2:id  69
ixcol2:id.70   1.0289167  33    0 ixcol2:id  70
ixcol2:id.71   0.6452424  26    0 ixcol2:id  71
ixcol2:id.72  -0.4227115  38    0 ixcol2:id  72
ixcol2:id.73   1.2772305  37    0 ixcol2:id  73
ixcol2:id.74   1.5016404  35    0 ixcol2:id  74
ixcol2:id.75   1.2582487  27    0 ixcol2:id  75
ixcol2:id.76   0.3801816  28    0 ixcol2:id  76
ixcol2:id.77  -0.0580371  22    0 ixcol2:id  77
ixcol2:id.78   3.1239500  38    0 ixcol2:id  78
ixcol2:id.79   0.7312945  40    0 ixcol2:id  79
ixcol2:id.80   0.0701926  38    0 ixcol2:id  80
ixcol2:id.81   0.7948920  31    0 ixcol2:id  81
ixcol2:id.82  -0.1488269  30    0 ixcol2:id  82
ixcol2:id.83  -0.5679913  45    0 ixcol2:id  83
ixcol2:id.84   0.0649526  28    0 ixcol2:id  84
ixcol2:id.85   2.8388527  38    0 ixcol2:id  85
ixcol2:id.86  -1.0754583  29    0 ixcol2:id  86
ixcol2:id.87   1.2783740  38    0 ixcol2:id  87
ixcol2:id.88  -0.9160245  34    0 ixcol2:id  88
ixcol2:id.89   0.1801824  30    0 ixcol2:id  89
ixcol2:id.90   0.5270022  30    0 ixcol2:id  90
ixcol2:id.91   1.2792559  29    0 ixcol2:id  91
ixcol2:id.92   2.3461366  28    0 ixcol2:id  92
ixcol2:id.93  -1.6210610  32    0 ixcol2:id  93
ixcol2:id.94  -0.3115793  34    0 ixcol2:id  94
ixcol2:id.95   0.1144835  37    0 ixcol2:id  95
ixcol2:id.96  -0.8368552  38    0 ixcol2:id  96
ixcol2:id.97   0.7061801  31    0 ixcol2:id  97
ixcol2:id.98   0.6196987  39    0 ixcol2:id  98
ixcol2:id.99  -0.3389620  25    0 ixcol2:id  99
ixcol2:id.100  0.6431523  35    0 ixcol2:id 100
ixcol2:id.101  1.0010092  27    0 ixcol2:id 101
ixcol2:id.102  0.6740155  25    0 ixcol2:id 102
ixcol2:id.103  0.6781053  34    0 ixcol2:id 103
ixcol2:id.104  1.5120422  34    0 ixcol2:id 104
ixcol2:id.105 -0.4095453  34    0 ixcol2:id 105
ixcol2:id.106 -0.9487180  38    0 ixcol2:id 106
ixcol2:id.107 -0.0277406  36    0 ixcol2:id 107
ixcol2:id.108 -0.4579743  40    0 ixcol2:id 108
ixcol2:id.109  0.1314158  45    0 ixcol2:id 109
ixcol2:id.110 -1.3522168  22    0 ixcol2:id 110
ixcol2:id.111  0.5209348  27    0 ixcol2:id 111
ixcol2:id.112  1.6570284  35    0 ixcol2:id 112
ixcol2:id.113  1.1477884  45    0 ixcol2:id 113
ixcol2:id.114 -0.3467194  32    0 ixcol2:id 114
ixcol2:id.115  1.6360497  36    0 ixcol2:id 115
ixcol2:id.116  0.7716000  39    0 ixcol2:id 116
ixcol2:id.117  0.5664312  35    0 ixcol2:id 117
ixcol2:id.118 -1.0222237  31    0 ixcol2:id 118
ixcol2:id.119  0.8125349  31    0 ixcol2:id 119
ixcol2:id.120 -0.4195267  20    0 ixcol2:id 120
ixcol2:id.121 -0.3824066  30    0 ixcol2:id 121
ixcol2:id.122  1.3710618  38    0 ixcol2:id 122
ixcol2:id.123  1.0828206  29    0 ixcol2:id 123
ixcol2:id.124 -0.5078951  32    0 ixcol2:id 124
ixcol2:id.125  0.9772115  29    0 ixcol2:id 125
ixcol2:id.126 -0.1469369  41    0 ixcol2:id 126
ixcol2:id.127  0.0986321  32    0 ixcol2:id 127
ixcol2:id.128  0.0219899  45    0 ixcol2:id 128
ixcol2:id.129 -0.7196474  38    0 ixcol2:id 129
ixcol2:id.130  1.5640490  29    0 ixcol2:id 130
ixcol2:id.131  0.3288139  32    0 ixcol2:id 131
ixcol2:id.132 -0.3014315  31    0 ixcol2:id 132
ixcol2:id.133  0.6548748  46    0 ixcol2:id 133
ixcol2:id.134 -1.0756993  32    0 ixcol2:id 134
ixcol2:id.135  1.2102455  31    0 ixcol2:id 135
ixcol2:id.136  1.7493169  36    0 ixcol2:id 136
ixcol2:id.137 -1.0768911  28    0 ixcol2:id 137
ixcol2:id.138  1.8775282  26    0 ixcol2:id 138
ixcol2:id.139 -3.2565540  24    0 ixcol2:id 139
ixcol2:id.140 -0.5716452  38    0 ixcol2:id 140
ixcol2:id.141  0.6224497  27    0 ixcol2:id 141
ixcol2:id.142 -1.5316368  33    0 ixcol2:id 142
ixcol2:id.143  1.9031701  34    0 ixcol2:id 143
ixcol2:id.144 -0.7881881  30    0 ixcol2:id 144
ixcol2:id.145  1.4945088  38    0 ixcol2:id 145
ixcol2:id.146  0.4805509  44    0 ixcol2:id 146
ixcol2:id.147 -1.0271172  47    0 ixcol2:id 147
ixcol2:id.148  1.8602132  30    0 ixcol2:id 148
ixcol2:id.149  0.4954148  37    0 ixcol2:id 149
ixcol2:id.150  1.3289407  44    0 ixcol2:id 150
id.1           1.4717933  43    1        id   1
id.2          -1.0028148  26    1        id   2
id.3           0.8049584  41    1        id   3
id.4           1.7635871  34    1        id   4
id.5           0.1865186  32    1        id   5
id.6          -2.1090138  33    1        id   6
id.7           2.2293626  31    1        id   7
id.8          -1.4473914  37    1        id   8
id.9           1.5925038  42    1        id   9
id.10          1.2549440  32    1        id  10
id.11          2.1349633  29    1        id  11
id.12          0.9970455  43    1        id  12
id.13         -0.1898378  34    1        id  13
id.14          0.7313450  33    1        id  14
id.15          2.3532063  34    1        id  15
id.16          0.0157804  27    1        id  16
id.17          2.3332001  35    1        id  17
id.18         -1.3203047  29    1        id  18
id.19         -0.1081819  44    1        id  19
id.20         -0.6197448  36    1        id  20
id.21          1.2762463  34    1        id  21
id.22          1.1778606  48    1        id  22
id.23          0.5708700  32    1        id  23
id.24          0.6827482  26    1        id  24
id.25          2.3566334  30    1        id  25
id.26          0.2102560  29    1        id  26
id.27          0.1245218  34    1        id  27
id.28          1.1455106  16    1        id  28
id.29          0.5420758  41    1        id  29
id.30         -0.1544197  20    1        id  30
id.31          0.5295092  32    1        id  31
id.32          0.5278311  35    1        id  32
id.33         -0.6153444  40    1        id  33
id.34         -0.9297031  34    1        id  34
id.35          0.1875732  38    1        id  35
id.36          1.9921835  29    1        id  36
id.37         -0.4796101  36    1        id  37
id.38          1.5484185  34    1        id  38
id.39          0.6715114  36    1        id  39
id.40         -0.2334976  24    1        id  40
id.41          1.5485054  34    1        id  41
id.42          1.6099424  29    1        id  42
id.43          0.4867873  23    1        id  43
id.44          0.0996972  28    1        id  44
id.45         -0.3445283  38    1        id  45
id.46          0.9917050  22    1        id  46
id.47         -0.3288526  29    1        id  47
id.48          2.2177652  36    1        id  48
id.49          0.9907165  46    1        id  49
id.50         -0.0835801  36    1        id  50
id.51          1.2985778  34    1        id  51
id.52          0.8355860  36    1        id  52
id.53         -0.8806127  29    1        id  53
id.54          0.2711025  33    1        id  54
id.55         -0.0795294  39    1        id  55
id.56          1.8354139  34    1        id  56
id.57          1.7805947  29    1        id  57
id.58         -0.9574881  32    1        id  58
id.59          2.0085055  42    1        id  59
id.60          0.1417707  34    1        id  60
id.61          1.1308918  33    1        id  61
id.62         -1.2032778  26    1        id  62
id.63         -0.7158650  44    1        id  63
id.64          0.8942815  28    1        id  64
id.65          1.1059852  33    1        id  65
id.66          1.2427254  22    1        id  66
id.67          1.3579422  29    1        id  67
id.68         -0.5828212  34    1        id  68
id.69          1.2290779  25    1        id  69
id.70          2.0118145  33    1        id  70
id.71          1.1442050  26    1        id  71
id.72          0.2410484  38    1        id  72
id.73          1.4482887  37    1        id  73
id.74          2.3609540  35    1        id  74
id.75          2.1641857  27    1        id  75
id.76          1.0505159  28    1        id  76
id.77          1.0107427  22    1        id  77
id.78          3.3885195  38    1        id  78
id.79          1.3877315  40    1        id  79
id.80          0.6226998  38    1        id  80
id.81          1.1371378  31    1        id  81
id.82         -0.0164711  30    1        id  82
id.83          0.0599920  45    1        id  83
id.84          0.7754986  28    1        id  84
id.85          3.4405723  38    1        id  85
id.86         -0.0559066  29    1        id  86
id.87          1.5662379  38    1        id  87
id.88         -0.5518312  34    1        id  88
id.89          0.8227304  30    1        id  89
id.90          1.6992331  30    1        id  90
id.91          1.7010191  29    1        id  91
id.92          3.0954884  28    1        id  92
id.93         -0.9799832  32    1        id  93
id.94          0.5032114  34    1        id  94
id.95          0.3651963  37    1        id  95
id.96         -0.2822133  38    1        id  96
id.97          1.0091893  31    1        id  97
id.98          1.1299404  39    1        id  98
id.99         -0.3447753  25    1        id  99
id.100         1.1857927  35    1        id 100
id.101         1.8505776  27    1        id 101
id.102         0.5285799  25    1        id 102
id.103         1.3706480  34    1        id 103
id.104         2.0340570  34    1        id 104
id.105         0.1874022  34    1        id 105
id.106         0.4361634  38    1        id 106
id.107         0.4445268  36    1        id 107
id.108         0.6112282  40    1        id 108
id.109         0.7433055  45    1        id 109
id.110        -1.0675118  22    1        id 110
id.111         0.7137028  27    1        id 111
id.112         2.4840968  35    1        id 112
id.113         1.8087420  45    1        id 113
id.114         0.1934031  32    1        id 114
id.115         2.5258290  36    1        id 115
id.116         1.1065785  39    1        id 116
id.117         1.4607469  35    1        id 117
id.118        -0.8141310  31    1        id 118
id.119         1.5667307  31    1        id 119
id.120         0.0188449  20    1        id 120
id.121         0.1525695  30    1        id 121
id.122         1.8261029  38    1        id 122
id.123         1.7517392  29    1        id 123
id.124         0.2462177  32    1        id 124
id.125         1.5718473  29    1        id 125
id.126         0.3577641  41    1        id 126
id.127         0.5505189  32    1        id 127
id.128         0.4553577  45    1        id 128
id.129         0.1527509  38    1        id 129
id.130         1.9472199  29    1        id 130
id.131         1.1467422  32    1        id 131
id.132         0.4921161  31    1        id 132
id.133         1.4490759  46    1        id 133
id.134        -0.4297823  32    1        id 134
id.135         1.7253379  31    1        id 135
id.136         2.3328583  36    1        id 136
id.137        -0.5822185  28    1        id 137
id.138         1.6056019  26    1        id 138
id.139        -2.1725353  24    1        id 139
id.140        -0.0919216  38    1        id 140
id.141         0.9834234  27    1        id 141
id.142        -1.1505699  33    1        id 142
id.143         2.1938882  34    1        id 143
id.144        -0.2371794  30    1        id 144
id.145         1.7202390  38    1        id 145
id.146         1.1034300  44    1        id 146
id.147        -0.1656789  47    1        id 147
id.148         2.5055415  30    1        id 148
id.149         0.9883995  37    1        id 149
id.150         2.1284155  44    1        id 150
fx:firm.1     -0.5997374  33    0   fx:firm   1
fx:firm.2      1.6536649  33    0   fx:firm   2
fx:firm.3     -0.8902652  47    0   fx:firm   3
fx:firm.4      1.7982528  33    0   fx:firm   4
fx:firm.5     -0.0080316  41    0   fx:firm   5
fx:firm.6     -0.3019766  33    0   fx:firm   6
fx:firm.7     -0.9098526  53    0   fx:firm   7
fx:firm.8      0.6136357  48    0   fx:firm   8
fx:firm.9     -0.1743804  29    0   fx:firm   9
fx:firm.10     0.1972728  34    0   fx:firm  10
fx:firm.11     0.5025872  30    0   fx:firm  11
fx:firm.12     0.7321791  37    0   fx:firm  12
fx:firm.13    -0.4642120  41    0   fx:firm  13
fx:firm.14     1.3347299  42    0   fx:firm  14
fx:firm.15     0.1411682  29    0   fx:firm  15
fx:firm.16     1.2104868  49    0   fx:firm  16
fx:firm.17    -1.5064461  48    0   fx:firm  17
fx:firm.18     1.0814762  49    0   fx:firm  18
fx:firm.19    -1.8910803  37    0   fx:firm  19
fx:firm.20     0.9775075  34    0   fx:firm  20
fx:firm.21    -0.0949124  36    0   fx:firm  21
fx:firm.22    -0.5343618  42    0   fx:firm  22
fx:firm.23    -0.2174273  39    0   fx:firm  23
fx:firm.24     0.0467216  49    0   fx:firm  24
fx:firm.25     0.1858367  28    0   fx:firm  25
fx:firm.26    -1.0243137  39    0   fx:firm  26
fx:firm.27    -1.5096311  30    0   fx:firm  27
fx:firm.28    -0.5508174  41    0   fx:firm  28
fx:firm.29    -1.1233315  38    0   fx:firm  29
fx:firm.30     0.4337778  41    0   fx:firm  30
fx:firm.31    -0.3123108  41    0   fx:firm  31
fx:firm.32    -0.2794633  35    0   fx:firm  32
fx:firm.33    -0.3432159  38    0   fx:firm  33
fx:firm.34    -0.6947304  38    0   fx:firm  34
fx:firm.35     0.5840305  29    0   fx:firm  35
fx:firm.36    -0.1899527  31    0   fx:firm  36
fx:firm.37    -0.6560129  46    0   fx:firm  37
fx:firm.38    -0.2662898  50    0   fx:firm  38
fx:firm.39     1.4692481  43    0   fx:firm  39
fx:firm.40     1.2352164  34    0   fx:firm  40
fx:firm.41    -0.3246123  30    0   fx:firm  41
fx:firm.42    -0.6181495  32    0   fx:firm  42
fx:firm.43     1.0086991  38    0   fx:firm  43
fx:firm.44    -0.1033258  36    0   fx:firm  44
fx:firm.45    -1.1997363  45    0   fx:firm  45
fx:firm.46     0.9062712  39    0   fx:firm  46
fx:firm.47     0.5668168  41    0   fx:firm  47
fx:firm.48    -0.6475480  34    0   fx:firm  48
fx:firm.49    -2.1512894  28    0   fx:firm  49
fx:firm.50     0.9789371  36    0   fx:firm  50
fx:firm.51    -0.9272422  49    0   fx:firm  51
fx:firm.52    -1.6387169  36    0   fx:firm  52
fx:firm.53     1.7152620  35    0   fx:firm  53
fx:firm.54    -2.3372657  32    0   fx:firm  54
fx:firm.55     1.3444840  29    0   fx:firm  55
fx:firm.56     0.3396354  42    0   fx:firm  56
fx:firm.57     0.1513598  30    0   fx:firm  57
fx:firm.58    -0.0494893  34    0   fx:firm  58
fx:firm.59    -0.8412349  41    0   fx:firm  59
fx:firm.60    -0.5729798  42    0   fx:firm  60
fx:firm.61     0.4361590  53    0   fx:firm  61
fx:firm.62     0.3946468  37    0   fx:firm  62
fx:firm.63     0.7606542  37    0   fx:firm  63
fx:firm.64    -0.1837757  38    0   fx:firm  64
fx:firm.65     0.0419393  41    0   fx:firm  65
fx:firm.66     1.5110921  39    0   fx:firm  66
fx:firm.67     0.3763484  33    0   fx:firm  67
fx:firm.68     0.8905767  42    0   fx:firm  68
fx:firm.69    -0.9311135  42    0   fx:firm  69
fx:firm.70     0.6642438  42    0   fx:firm  70
fx:firm.71     0.5945115  26    0   fx:firm  71
fx:firm.72     0.8309377  40    0   fx:firm  72
fx:firm.73    -0.1024813  39    0   fx:firm  73
fx:firm.74     1.6410879  56    0   fx:firm  74
fx:firm.75    -1.2925894  38    0   fx:firm  75
fx:firm.76    -0.7893941  48    0   fx:firm  76
fx:firm.77    -0.7110275  35    0   fx:firm  77
fx:firm.78     1.2901999  32    0   fx:firm  78
fx:firm.79    -0.0635432  32    0   fx:firm  79
fx:firm.80    -2.2068557  44    0   fx:firm  80
fx:firm.81    -1.4729733  36    0   fx:firm  81
fx:firm.82    -0.2874173  32    0   fx:firm  82
fx:firm.83     0.7931164  55    0   fx:firm  83
fx:firm.84     0.0866074  37    0   fx:firm  84
fx:firm.85    -0.4708277  33    0   fx:firm  85
fx:firm.86    -0.3438112  36    0   fx:firm  86
fx:firm.87    -2.8158031  36    0   fx:firm  87
fx:firm.88    -0.1665114  35    0   fx:firm  88
fx:firm.89    -0.4393929  39    0   fx:firm  89
fx:firm.90    -0.5460159  26    0   fx:firm  90
fx:firm.91    -1.3126970  37    0   fx:firm  91
fx:firm.92     0.4990939  31    0   fx:firm  92
fx:firm.93     1.0363961  47    0   fx:firm  93
fx:firm.94    -1.4096710  50    0   fx:firm  94
fx:firm.95     0.3270055  39    0   fx:firm  95
fx:firm.96     0.3233168  52    0   fx:firm  96
fx:firm.97    -0.2031259  31    0   fx:firm  97
fx:firm.98     0.9596284  37    0   fx:firm  98
fx:firm.99    -0.2606029  43    0   fx:firm  99
fx:firm.100   -0.9822518  33    0   fx:firm 100
fx:firm.101    0.3586057  40    0   fx:firm 101
fx:firm.102   -0.6628212  36    0   fx:firm 102
fx:firm.103    1.6716027  39    0   fx:firm 103
fx:firm.104    1.7302919  41    0   fx:firm 104
fx:firm.105   -0.7125164  31    0   fx:firm 105
fx:firm.106    0.8984712  23    0   fx:firm 106
fx:firm.107    1.3011665  43    0   fx:firm 107
fx:firm.108    1.4153513  30    0   fx:firm 108
fx:firm.109   -3.0596631  46    0   fx:firm 109
fx:firm.110    0.2499818  34    0   fx:firm 110
fx:firm.111    0.7408448  32    0   fx:firm 111
fx:firm.112    0.8278333  52    0   fx:firm 112
fx:firm.113   -0.5908370  35    0   fx:firm 113
fx:firm.114    0.1319174  34    0   fx:firm 114
fx:firm.115    0.0930176  49    0   fx:firm 115
fx:firm.116   -0.6280285  42    0   fx:firm 116
fx:firm.117    0.5381249  42    0   fx:firm 117
fx:firm.118   -0.5049182  41    0   fx:firm 118
fx:firm.119   -1.0886047  32    0   fx:firm 119
fx:firm.120   -1.0563916  35    0   fx:firm 120
fx:firm.121    0.4679528  45    0   fx:firm 121
fx:firm.122   -0.2939574  34    0   fx:firm 122
fx:firm.123   -1.0504970  34    0   fx:firm 123
fx:firm.124    0.9963610  39    0   fx:firm 124
fx:firm.125   -0.8800275  42    0   fx:firm 125
fx:firm.126    0.8505977  36    0   fx:firm 126
fx:firm.127    0.7293672  35    0   fx:firm 127
fx:firm.128   -0.8730726  48    0   fx:firm 128
fx:firm.129    2.5597194  43    0   fx:firm 129
fx:firm.130    0.2237955  51    0   fx:firm 130
firm.1        -2.1982167  33    1      firm   1
firm.2        -0.1727968  33    1      firm   2
firm.3        -2.6429741  47    1      firm   3
firm.4         0.2372632  33    1      firm   4
firm.5        -1.3490625  41    1      firm   5
firm.6        -2.1039448  33    1      firm   6
firm.7        -2.0752291  53    1      firm   7
firm.8        -1.0457840  48    1      firm   8
firm.9        -1.5220486  29    1      firm   9
firm.10       -0.9138115  34    1      firm  10
firm.11       -0.8896267  30    1      firm  11
firm.12       -0.9527714  37    1      firm  12
firm.13       -1.8847115  41    1      firm  13
firm.14       -0.8058500  42    1      firm  14
firm.15       -1.2598393  29    1      firm  15
firm.16       -0.8161126  49    1      firm  16
firm.17       -3.1945736  48    1      firm  17
firm.18       -0.3407013  49    1      firm  18
firm.19       -3.2625562  37    1      firm  19
firm.20       -0.5122039  34    1      firm  20
firm.21       -1.2627614  36    1      firm  21
firm.22       -2.5861013  42    1      firm  22
firm.23       -1.9765064  39    1      firm  23
firm.24       -1.6364146  49    1      firm  24
firm.25       -1.2318839  28    1      firm  25
firm.26       -2.5625434  39    1      firm  26
firm.27       -2.5657643  30    1      firm  27
firm.28       -2.2877829  41    1      firm  28
firm.29       -2.7770306  38    1      firm  29
firm.30       -1.0737021  41    1      firm  30
firm.31       -2.0702731  41    1      firm  31
firm.32       -2.4356667  35    1      firm  32
firm.33       -2.1982087  38    1      firm  33
firm.34       -2.5550245  38    1      firm  34
firm.35       -0.8747935  29    1      firm  35
firm.36       -1.3793272  31    1      firm  36
firm.37       -2.1423401  46    1      firm  37
firm.38       -1.7703432  50    1      firm  38
firm.39       -0.1051383  43    1      firm  39
firm.40       -0.2637249  34    1      firm  40
firm.41       -2.3362452  30    1      firm  41
firm.42       -1.8419204  32    1      firm  42
firm.43       -0.2848116  38    1      firm  43
firm.44       -1.3621392  36    1      firm  44
firm.45       -2.6275389  45    1      firm  45
firm.46       -0.5388030  39    1      firm  46
firm.47       -1.6057752  41    1      firm  47
firm.48       -2.3387283  34    1      firm  48
firm.49       -3.5859694  28    1      firm  49
firm.50       -1.0744996  36    1      firm  50
firm.51       -2.5353934  49    1      firm  51
firm.52       -3.2177331  36    1      firm  52
firm.53       -0.2352775  35    1      firm  53
firm.54       -4.1407537  32    1      firm  54
firm.55       -0.4286433  29    1      firm  55
firm.56       -1.3272314  42    1      firm  56
firm.57       -0.9204261  30    1      firm  57
firm.58       -1.3250811  34    1      firm  58
firm.59       -2.3367735  41    1      firm  59
firm.60       -1.6401922  42    1      firm  60
firm.61       -1.3896152  53    1      firm  61
firm.62       -0.7887734  37    1      firm  62
firm.63       -1.0197728  37    1      firm  63
firm.64       -1.9970415  38    1      firm  64
firm.65       -1.3810946  41    1      firm  65
firm.66       -0.2957924  39    1      firm  66
firm.67       -1.9892171  33    1      firm  67
firm.68       -0.9356893  42    1      firm  68
firm.69       -2.5057509  42    1      firm  69
firm.70       -1.3345606  42    1      firm  70
firm.71       -1.7514302  26    1      firm  71
firm.72       -0.9545370  40    1      firm  72
firm.73       -2.0166928  39    1      firm  73
firm.74        0.0000000  56    1      firm  74
firm.75       -3.0872751  38    1      firm  75
firm.76       -2.1816472  48    1      firm  76
firm.77       -2.5206110  35    1      firm  77
firm.78       -0.5261174  32    1      firm  78
firm.79       -2.5409826  32    1      firm  79
firm.80       -3.4192866  44    1      firm  80
firm.81       -2.5360409  36    1      firm  81
firm.82       -2.0031969  32    1      firm  82
firm.83       -0.7538219  55    1      firm  83
firm.84       -1.6592309  37    1      firm  84
firm.85       -2.0261700  33    1      firm  85
firm.86       -2.6930613  36    1      firm  86
firm.87       -4.3697135  36    1      firm  87
firm.88       -2.0455726  35    1      firm  88
firm.89       -2.0573183  39    1      firm  89
firm.90       -1.9560614  26    1      firm  90
firm.91       -2.7336681  37    1      firm  91
firm.92       -1.3774753  31    1      firm  92
firm.93       -0.3929266  47    1      firm  93
firm.94       -2.9310891  50    1      firm  94
firm.95       -1.3663984  39    1      firm  95
firm.96       -1.4188822  52    1      firm  96
firm.97       -1.9513720  31    1      firm  97
firm.98       -0.6820647  37    1      firm  98
firm.99       -1.9325813  43    1      firm  99
firm.100      -3.2708661  33    1      firm 100
firm.101      -1.4132652  40    1      firm 101
firm.102      -2.7855060  36    1      firm 102
firm.103      -0.2688243  39    1      firm 103
firm.104       0.3083403  41    1      firm 104
firm.105      -2.1719285  31    1      firm 105
firm.106      -1.1482785  23    1      firm 106
firm.107      -0.5852207  43    1      firm 107
firm.108      -0.8052780  30    1      firm 108
firm.109      -4.6717017  46    1      firm 109
firm.110      -1.4938042  34    1      firm 110
firm.111      -1.0872167  32    1      firm 111
firm.112      -0.9404568  52    1      firm 112
firm.113      -2.1278219  35    1      firm 113
firm.114      -1.4470933  34    1      firm 114
firm.115      -1.4358410  49    1      firm 115
firm.116      -1.6470143  42    1      firm 116
firm.117      -1.2728421  42    1      firm 117
firm.118      -1.9710057  41    1      firm 118
firm.119      -2.9046267  32    1      firm 119
firm.120      -2.7611513  35    1      firm 120
firm.121      -1.0974377  45    1      firm 121
firm.122      -1.9392917  34    1      firm 122
firm.123      -2.7972744  34    1      firm 123
firm.124      -0.6169873  39    1      firm 124
firm.125      -2.3506000  42    1      firm 125
firm.126      -1.2678603  36    1      firm 126
firm.127      -1.0257332  35    1      firm 127
firm.128      -2.7196250  48    1      firm 128
firm.129       0.7381158  43    1      firm 129
firm.130      -1.2849023  51    1      firm 130
shoe.1        -0.0554741 519    2      shoe   1
shoe.2        -1.0549015 484    2      shoe   2
shoe.3         0.0905284 481    2      shoe   3
shoe.4        -0.4701008 490    2      shoe   4
shoe.5         0.0000000 522    2      shoe   5
shoe.6         0.3221375 517    2      shoe   6
shoe.7         0.7654639 477    2      shoe   7
shoe.8         0.4122245 501    2      shoe   8
shoe.9         2.0192792 505    2      shoe   9
shoe.10        1.1357198 504    2      shoe  10
shirt.1        1.3969187 519    3     shirt   1
shirt.2        2.4461119 500    3     shirt   2
shirt.3        1.8496361 478    3     shirt   3
shirt.4        1.9095172 495    3     shirt   4
shirt.5        1.9782821 475    3     shirt   5
shirt.6        2.3332159 477    3     shirt   6
shirt.7        2.4314154 489    3     shirt   7
shirt.8        0.0000000 536    3     shirt   8
shirt.9       -1.7689589 514    3     shirt   9
shirt.10       1.7499347 517    3     shirt  10
> 
> # compare with lm
> x <- rnorm(100)
> id <- factor(sample(5,length(x), replace=T))
> id.eff <- rnorm(nlevels(id))
> firm.eff <- rnorm(nlevels(firm))
> firm <- factor(sample(7,length(x), replace=T))
> fx <- rnorm(length(x))
> ix <- matrix(rnorm(2*length(x)),length(x),2)
> y <- x + rowSums(ix*id.eff[id]) + fx*firm.eff[firm] + firm.eff[firm] + rnorm(length(x))
> summary(est <- felm(y ~ x | ix:id + fx:firm + firm, exactDOF='rM'))

Call:
   felm(formula = y ~ x | ix:id + fx:firm + firm, exactDOF = "rM") 

Residuals:
    Min      1Q  Median      3Q     Max 
-1.5922 -0.6688 -0.0275  0.5237  2.1126 

Coefficients:
  Estimate Std. Error t value Pr(>|t|)    
x    0.894      0.102    8.77    4e-13 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.942 on 75 degrees of freedom
Multiple R-squared: 0.802   Adjusted R-squared: 0.736 
F-statistic:12.7 on 24 and 75 DF, p-value: <2e-16 


> getfe(est)
              effect obs comp      fe idx
ix1:id.1  -0.0787172  18    0  ix1:id   1
ix1:id.2  -0.6970736  23    0  ix1:id   2
ix1:id.3   0.0545503  19    0  ix1:id   3
ix1:id.4  -0.1408577  16    0  ix1:id   4
ix1:id.5   1.4631590  24    0  ix1:id   5
ix2:id.1  -0.3732534  18    0  ix2:id   1
ix2:id.2  -0.2805553  23    0  ix2:id   2
ix2:id.3  -0.1141561  19    0  ix2:id   3
ix2:id.4  -0.3276360  16    0  ix2:id   4
ix2:id.5   1.3381912  24    0  ix2:id   5
fx:firm.1  0.8566328  10    0 fx:firm   1
fx:firm.2 -0.6417147  11    0 fx:firm   2
fx:firm.3 -1.5610115  21    0 fx:firm   3
fx:firm.4 -0.6316470  18    0 fx:firm   4
fx:firm.5  0.0016606  13    0 fx:firm   5
fx:firm.6 -0.3807868  15    0 fx:firm   6
fx:firm.7 -1.0241755  12    0 fx:firm   7
firm.1     1.2098349  10    1    firm   1
firm.2    -1.0982031  11    1    firm   2
firm.3    -1.2683945  21    1    firm   3
firm.4    -1.0540761  18    1    firm   4
firm.5    -0.1858601  13    1    firm   5
firm.6    -0.0685861  15    1    firm   6
firm.7    -0.2175923  12    1    firm   7
> summary(lm(y ~ x + ix:id + fx:firm + firm))

Call:
lm(formula = y ~ x + ix:id + fx:firm + firm)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.5922 -0.6688 -0.0275  0.5237  2.1126 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)  1.20983    0.34629    3.49  0.00080 ***
x            0.89352    0.10183    8.77  4.0e-13 ***
firm2       -2.30804    0.46600   -4.95  4.4e-06 ***
firm3       -2.47823    0.40206   -6.16  3.3e-08 ***
firm4       -2.26391    0.43691   -5.18  1.8e-06 ***
firm5       -1.39569    0.45457   -3.07  0.00298 ** 
firm6       -1.27842    0.43883   -2.91  0.00471 ** 
firm7       -1.42743    0.44808   -3.19  0.00211 ** 
ix1:id1     -0.07872    0.30745   -0.26  0.79862    
ix2:id1     -0.37325    0.39193   -0.95  0.34398    
ix1:id2     -0.69707    0.19694   -3.54  0.00069 ***
ix2:id2     -0.28056    0.21397   -1.31  0.19379    
ix1:id3      0.05455    0.18971    0.29  0.77449    
ix2:id3     -0.11416    0.23999   -0.48  0.63570    
ix1:id4     -0.14086    0.23301   -0.60  0.54733    
ix2:id4     -0.32764    0.33393   -0.98  0.32967    
ix1:id5      1.46316    0.22999    6.36  1.4e-08 ***
ix2:id5      1.33819    0.33034    4.05  0.00012 ***
fx:firm1     0.85663    0.38955    2.20  0.03096 *  
fx:firm2    -0.64171    0.35202   -1.82  0.07229 .  
fx:firm3    -1.56101    0.20341   -7.67  5.0e-11 ***
fx:firm4    -0.63165    0.24704   -2.56  0.01258 *  
fx:firm5     0.00166    0.24711    0.01  0.99466    
fx:firm6    -0.38079    0.31310   -1.22  0.22772    
fx:firm7    -1.02418    0.29743   -3.44  0.00094 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.942 on 75 degrees of freedom
Multiple R-squared:  0.802,	Adjusted R-squared:  0.739 
F-statistic: 12.7 on 24 and 75 DF,  p-value: <2e-16

> 
> 
> proc.time()
   user  system elapsed 
  5.787   0.145   5.633 
