
R version 2.13.0 (2011-04-13)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(lfe)
Loading required package: Matrix
Loading required package: lattice

Attaching package: 'Matrix'

The following object(s) are masked from 'package:base':

    det

Loading required package: Rcgmin
Loading required package: numDeriv
> options(lfe.threads=4)
> set.seed(42)
> x <- rnorm(1000)
> x2 <- rnorm(length(x))
> 
> id <- factor(sample(10,length(x),replace=TRUE))
> firm <- factor(sample(3,length(x),replace=TRUE,prob=c(2,1,1)))
> 
> id.eff <- rnorm(nlevels(id))
> firm.eff <- rnorm(nlevels(firm))
> 
> ## left hand side
> u <- rnorm(length(x))
> x3 <- rnorm(length(x))
> Q <- 0.3*x3 + x + 0.2*x2 + id.eff[id] + 0.7*u + rnorm(length(x),sd=0.3)
> 
> y <- x + 0.5*x2 + id.eff[id] + firm.eff[firm] + Q + u
> 
> ## estimate and print result
> est <- felm(y ~ x+x2+G(id)+G(firm)+Q,iv=Q~x3)
> summary(est,robust=TRUE)

Call:
   felm(formula = y ~ x + x2 + G(id) + G(firm) + Q, iv = Q ~ x3) 

Residuals:
     Min       1Q   Median       3Q      Max 
-2.98653 -0.64376 -0.03024  0.62568  3.10853 

Coefficients:
         Estimate Robust s.e t value Pr(>|t|)    
x         0.86971    0.08980   9.685   <2e-16 ***
x2        0.45760    0.03420  13.380   <2e-16 ***
`Q(fit)`  1.08164    0.09046  11.958   <2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

Residual standard error: 0.9329 on 985 degrees of freedom
Multiple R-squared: 0.9228   Adjusted R-squared: 0.9217 
F-statistic: 841.4 on 14 and 985 DF, p-value: < 2.2e-16 


> 
> 
